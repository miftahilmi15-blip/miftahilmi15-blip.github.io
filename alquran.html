<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Al-Qur'an Digital</title>

<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">

<style>
:root{
  --green:#5E915E;
  --green-soft:#EAF3EA;
}

body{
  margin:0;
  font-family:system-ui,sans-serif;
  background:#f4f6f4;
}

/* HEADER */
header{
  background:var(--green);
  color:white;
  padding:14px;
  text-align:center;
  font-size:20px;
}

/* INFO BAR */
.info-bar{
  background:var(--green-soft);
  text-align:center;
  padding:6px;
  font-size:14px;
}

/* TOOLBAR */
.toolbar{
  padding:12px;
  text-align:center;
}

select{
  padding:8px;
  font-size:16px;
  width:90%;
  max-width:400px;
}

/* AUDIO */
audio{
  width:90%;
  max-width:400px;
  display:block;
  margin:10px auto 20px;
}

/* CONTENT */
#content{
  background:white;
  max-width:900px;
  margin:10px auto;
  padding:20px;
}

/* BISMILLAH */
.bismillah{
  text-align:center;
  font-family:'Amiri',serif;
  font-size:36px;
  margin:24px 0;
  color:var(--green);
}

/* AYAH */
.ayah{
  margin-bottom:28px;
  cursor:pointer;
}

.arab{
  font-family:'Amiri',serif;
  font-size:34px;
  text-align:right;
  direction:rtl;
  line-height:2.3;
}

/* Nomor ayat lingkaran */
.ayah-num{
  display:inline-block;
  border:2px solid var(--green);
  border-radius:50%;
  width:34px;
  height:34px;
  line-height:30px;
  text-align:center;
  font-size:18px;
  margin-right:6px;
  color:var(--green);
}

/* TERJEMAH */
.arti{
  display:none;
  margin-top:8px;
  color:#374151;
  font-size:15px;
}

/* FOOTER */
footer{
  background:var(--green);
  color:white;
  text-align:center;
  padding:10px;
  margin-top:20px;
}
</style>
</head>

<body>

<header>Al-Qur'an Digital</header>

<div class="info-bar">
  Juz: <span id="juz">-</span> |
  Hizb: <span id="hizb">-</span> |
  Halaman: <span id="page">-</span>
</div>

<div class="toolbar">
  <select id="surahSelect"></select>
</div>

<!-- AUDIO PLAYER -->
<audio id="audioPlayer" controls></audio>

<div id="content"></div>

<footer>Mushaf Digital</footer>

<script>
document.addEventListener("DOMContentLoaded",()=>{

const surahSelect=document.getElementById("surahSelect");
const content=document.getElementById("content");
const audio=document.getElementById("audioPlayer");

// Ambil daftar surah
fetch("https://api.quran.gading.dev/surah")
.then(r=>r.json())
.then(d=>{
  d.data.forEach(s=>{
    const o=document.createElement("option");
    o.value=s.number;
    o.textContent=s.number+". "+s.name.transliteration.id;
    surahSelect.appendChild(o);
  });
  loadSurah(1);
});

// Ganti surah
surahSelect.onchange=()=>loadSurah(surahSelect.value);

// Angka Arab
function arabNumber(n){
  const a=["Ù ","Ù¡","Ù¢","Ù£","Ù¤","Ù¥","Ù¦","Ù§","Ù¨","Ù©"];
  return n.toString().split("").map(x=>a[x]).join("");
}

// Load surah + audio
function loadSurah(no){

  // ðŸ”Š Audio per surat (Mishary)
  audio.src = `https://server8.mp3quran.net/afs/${String(no).padStart(3,"0")}.mp3`;
  audio.load();

  fetch(`https://api.quran.gading.dev/surah/${no}`)
  .then(r=>r.json())
  .then(d=>{
    content.innerHTML="";

    // basmalah hanya jika bukan Al-Fatihah & At-Taubah
    if(no!=1 && no!=9){
      const b=document.createElement("div");
      b.className="bismillah";
      b.textContent="Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙŽÙ‡Ù Ø§Ù„Ø±Ù‘ÙŽØ­Ù’Ù…ÙŽÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙŽØ­ÙÙŠÙ…Ù";
      content.appendChild(b);
    }

    d.data.verses.forEach(v=>{
      const div=document.createElement("div");
      div.className="ayah";
      div.innerHTML=`
        <div class="arab">
          ${v.text.arab}
          <span class="ayah-num">${arabNumber(v.number.inSurah)}</span>
        </div>
        <div class="arti">${v.translation.id}</div>
      `;
      // klik untuk show/hide arti
      div.onclick=()=>{
        const a=div.querySelector(".arti");
        a.style.display=a.style.display==="none"?"block":"none";
      };
      content.appendChild(div);
    });
  });
}

});
</script>

</body>
</html>


