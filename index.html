<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>E-Santri | Premium Edition</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Noto+Naskh+Arabic:wght@700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --primary: #1f6f51;
    --primary-hover: #16503a;
    --accent: #d4b96a;      
    --text: #2d3436;
    --muted: #636e72;
    --glass: rgba(255, 255, 255, 0.9);
    --soft: rgba(31, 111, 81, 0.1);
    --transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1); /* Kurva smooth Android */
  }

  /* --- ANIMASI PEMBUKAAN HALAMAN --- */
  @keyframes pageEntrance {
    from { opacity: 0; transform: translateY(30px) scale(0.98); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  body {
    background: #f3fbf7;
    background-image: radial-gradient(at 0% 0%, rgba(31, 111, 81, 0.15) 0px, transparent 50%), radial-gradient(at 100% 0%, rgba(212, 185, 106, 0.15) 0px, transparent 50%);
    background-attachment: fixed;
    margin: 0; padding: 20px; min-height: 100vh;
    display: flex; flex-direction: column; align-items: center;
    overflow-x: hidden;
  }

  /* Container Utama dengan Animasi Masuk */
  .container { 
    width: 100%; 
    max-width: 420px; 
    animation: pageEntrance 0.8s var(--transition);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Poppins", sans-serif; -webkit-tap-highlight-color: transparent; }

  /* --- EFEK TRANSISI HALUS (OVERLAY) --- */
  #page-transition {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: var(--primary); z-index: 10000;
    transform: translateY(100%);
    transition: transform 0.6s cubic-bezier(0.77, 0, 0.175, 1);
  }
  #page-transition.active { transform: translateY(0); }

  /* --- MENU ITEM (PLAYSTORE FEEL) --- */
  .menu-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
  .menu-item { 
    background: #fff; padding: 20px 10px; border-radius: 24px; text-align: center; 
    box-shadow: 0 4px 20px rgba(0,0,0,0.03); 
    transition: var(--transition);
    cursor: pointer; border: 1px solid rgba(0,0,0,0.02);
  }

  /* Feedback saat ditekan */
  .menu-item:active { 
    transform: scale(0.9);
    background: var(--soft);
  }

  .menu-icon { width: 42px; height: 42px; margin-bottom: 8px; transition: var(--transition); }
  .menu-item span { display: block; font-size: 11px; font-weight: 700; color: var(--text); }

  /* WIDGET JADWAL */
  .schedule-widget {
    background: white; border-radius: 24px; padding: 18px; margin-bottom: 20px;
    display: flex; align-items: center; gap: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.03); border: 1px solid rgba(31,111,81,0.08);
    transition: var(--transition);
  }

  /* LOADING SPINNER */
  #loading-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: #f3fbf7; display: flex; align-items: center; justify-content: center;
    z-index: 9999; transition: opacity 0.5s ease;
  }
  .spinner { width: 40px; height: 40px; border: 3px solid var(--soft); border-top: 3px solid var(--primary); border-radius: 50%; animation: spin 0.8s linear infinite; }
  @keyframes spin { to { transform: rotate(360deg); } }

  .header-box { text-align: center; padding: 30px 0 20px; }
  .logo-box { width: 90px; height: 90px; margin: 0 auto 15px; background: white; padding: 12px; border-radius: 26px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
  .title { font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900; color: #ffffff; -webkit-text-stroke: 1.5px var(--primary); text-shadow: 0 5px 15px rgba(31,111,81,0.3); }
</style>
</head>
<body>

<div id="page-transition"></div>

<div id="loading-screen"><div class="spinner"></div></div>

<div class="container" id="main-content">
  <header class="header-box">
    <div class="logo-box"><img src="logo-assunnah.png" style="width:100%"></div>
    <h1 class="title">E-SANTRI</h1>
  </header>

  <section id="dashboard">
    <div class="schedule-widget">
      <div style="background:var(--primary); color:white; padding:10px 14px; border-radius:14px; font-weight:800; font-size:16px;" id="live-jam">00:00</div>
      <div>
        <div id="info-sesi" style="font-weight:700; color:var(--primary); font-size:14px;">Memuat Jadwal...</div>
        <div id="info-sub" style="font-size:11px; color:var(--muted);">Harap tunggu sebentar</div>
      </div>
    </div>

    <div class="menu-grid">
      <div class="menu-item" onclick="smoothGoTo('absensi.html')">
        <img src="icons/absensi.png" class="menu-icon"><span>Absensi</span>
      </div>
      <div class="menu-item" onclick="smoothGoTo('tahfidz.html')">
        <img src="icons/tahfidz.png" class="menu-icon"><span>Tahfidz</span>
      </div>
      <div class="menu-item" onclick="smoothGoTo('alquran.html')">
        <img src="icons/alquran.png" class="menu-icon"><span>Al-Quran</span>
      </div>
      <div class="menu-item" onclick="smoothGoTo('kamus.html')">
        <img src="icons/kamus.png" class="menu-icon"><span>Kamus</span>
      </div>
      <div class="menu-item" onclick="smoothGoTo('perpustakaan.html')">
        <img src="icons/perpustakaan.png" class="menu-icon"><span>Perpus</span>
      </div>
      <div class="menu-item" onclick="smoothGoTo('izin.html')">
        <img src="icons/izin.png" class="menu-icon"><span>Izin</span>
      </div>
    </div>
  </section>
</div>

<script>
  // FUNGSI TRANSISI ALA PLAY STORE
  function smoothGoTo(url) {
    const transitionLayer = document.getElementById('page-transition');
    const mainContent = document.getElementById('main-content');
    
    // 1. Konten mengecil sedikit (efek depth)
    mainContent.style.transform = "scale(0.96)";
    mainContent.style.opacity = "0.5";
    mainContent.style.filter = "blur(2px)";
    
    // 2. Layer warna naik menutup layar (smooth swipe)
    setTimeout(() => {
      transitionLayer.classList.add('active');
    }, 100);

    // 3. Pindah halaman saat layar sudah tertutup
    setTimeout(() => {
      window.location.href = url;
    }, 600);
  }

  // JAM & JADWAL
  function updateJadwal() {
    const h = new Date().getHours();
    const m = String(new Date().getMinutes()).padStart(2, '0');
    document.getElementById('live-jam').innerText = `${h}:${m}`;
    
    let sesi = "Waktu Belajar", sub = "Tetap semangat menuntut ilmu!";
    if(h >= 5 && h <= 7) { sesi = "Absensi Pagi"; sub = "Sesi Pagi telah dibuka"; }
    else if(h >= 12 && h <= 14) { sesi = "Absensi Siang"; sub = "Sesi Siang telah dibuka"; }
    else if(h >= 18 && h <= 20) { sesi = "Absensi Malam"; sub = "Sesi Malam telah dibuka"; }

    document.getElementById('info-sesi').innerText = sesi;
    document.getElementById('info-sub').innerText = sub;
  }
  setInterval(updateJadwal, 1000);
  updateJadwal();

  // LOADING SCREEN
  window.onload = () => {
    const loader = document.getElementById('loading-screen');
    loader.style.opacity = '0';
    setTimeout(() => loader.style.display = 'none', 500);
  };
</script>
</body>
</html>
