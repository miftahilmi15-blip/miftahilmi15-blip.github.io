<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalender Interaktif E-Santri 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  body { font-family:"Poppins",sans-serif; background:#f4f7f6; margin:0; color:#333; }
  header { background:#1f6f51; color:#fff; padding:20px; text-align:center; box-shadow:0 2px 6px rgba(0,0,0,0.15); }
  header h1{margin:0;font-size:24px;font-weight:600;}
  main { max-width:900px; margin:20px auto; padding:0 15px; }
  .month-selector { display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; }
  .month-selector button { padding:10px 16px; border:none; border-radius:8px; background:#1f6f51; color:#fff; cursor:pointer; font-weight:500; transition:0.3s; }
  .month-selector button:hover { background:#16503a; }
  .month-selector span { font-weight:600; font-size:18px; }
  .calendar { display:grid; grid-template-columns:repeat(7,1fr); gap:8px; }
  .day-name { text-align:center; font-weight:600; padding:8px 0; background:#e0f2f1; border-radius:6px; color:#1f6f51; }
  .day { background:#fff; padding:15px 0; border-radius:8px; text-align:center; box-shadow:0 2px 6px rgba(0,0,0,0.08); cursor:pointer; position:relative; transition:0.2s; }
  .day:hover { transform:translateY(-2px); box-shadow:0 4px 10px rgba(0,0,0,0.12); }
  .day.today { background:#1f6f51; color:#fff; font-weight:600; }
  .day.holiday { background:#e74c3c; color:#fff; font-weight:700; border:2px solid #c0392b; }
  /* Popup Event */
  #event-popup { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:1500; }
  #event-popup .popup-content { background:#fff; padding:20px; border-radius:12px; width:90%; max-width:400px; display:flex; flex-direction:column; gap:10px; }
  #event-popup h3 { margin:0; text-align:center; }
  #event-popup textarea { width:100%; padding:10px; border-radius:8px; border:1px solid #ccc; resize:none; }
  #event-popup .popup-buttons { display:flex; gap:10px; justify-content:flex-end; }
  #event-popup .popup-buttons button { padding:8px 14px; border:none; border-radius:6px; cursor:pointer; font-weight:500; }
  #event-popup .popup-buttons .cancel { background:#eee; }
  #event-popup .popup-buttons .save { background:#1f6f51; color:#fff; }
</style>
</head>
<body>

<header>
  <h1>Kalender Interaktif E-Santri 2026</h1>
</header>

<main>
  <div class="month-selector">
    <button id="prevMonth">&lt; Bulan Sebelumnya</button>
    <span id="monthYear"></span>
    <button id="nextMonth">Bulan Berikut &gt;</button>
  </div>

  <div class="calendar" id="calendar"></div>
</main>

<!-- Popup Event -->
<div id="event-popup">
  <div class="popup-content">
    <h3 id="popup-date">Tanggal</h3>
    <textarea id="popup-message" rows="4" placeholder="Tulis event..."></textarea>
    <div class="popup-buttons">
      <button class="cancel" onclick="closePopup()">Batal</button>
      <button class="save" onclick="saveEvent()">Simpan</button>
    </div>
  </div>
</div>

<script>
const monthYear = document.getElementById('monthYear');
const calendar = document.getElementById('calendar');
const prevMonth = document.getElementById('prevMonth');
const nextMonth = document.getElementById('nextMonth');
let currentDate = new Date();

// Hari libur nasional & cuti bersama Indonesia 2026
const holidays = [
  { date:'2026-01-01', name:'Tahun Baru Masehi' },
  { date:'2026-01-16', name:'Isra Miâ€™raj Nabi Muhammad SAW' },
  { date:'2026-02-16', name:'Cuti Bersama Tahun Baru Imlek' },
  { date:'2026-02-17', name:'Tahun Baru Imlek 2577 Kongzili' },
  { date:'2026-03-18', name:'Cuti Bersama Nyepi' },
  { date:'2026-03-19', name:'Hari Suci Nyepi' },
  { date:'2026-03-20', name:'Cuti Bersama Idul Fitri' },
  { date:'2026-03-21', name:'Hari Raya Idul Fitri 1447' },
  { date:'2026-03-22', name:'Hari Raya Idul Fitri 1447' },
  { date:'2026-03-23', name:'Cuti Bersama Idul Fitri' },
  { date:'2026-03-24', name:'Cuti Bersama Idul Fitri' },
  { date:'2026-04-03', name:'Hari Wafat Yesus Kristus' },
  { date:'2026-04-05', name:'Hari Kebangkitan Yesus Kristus' },
  { date:'2026-05-01', name:'Hari Buruh Internasional' },
  { date:'2026-05-14', name:'Kenaikan Yesus Kristus' },
  { date:'2026-05-15', name:'Cuti Bersama Kenaikan Yesus Kristus' },
  { date:'2026-05-27', name:'Hari Raya Idul Adha 1447' },
  { date:'2026-05-28', name:'Cuti Bersama Idul Adha' },
  { date:'2026-05-31', name:'Hari Raya Waisak' },
  { date:'2026-06-01', name:'Hari Lahir Pancasila' },
  { date:'2026-06-16', name:'Tahun Baru Islam 1448' },
  { date:'2026-08-17', name:'Hari Kemerdekaan RI' },
  { date:'2026-08-25', name:'Maulid Nabi Muhammad SAW' },
  { date:'2026-12-24', name:'Cuti Bersama Natal' },
  { date:'2026-12-25', name:'Hari Raya Natal' }
];

let events = []; // event tambahan user

const dayNames = ['Minggu','Senin','Selasa','Rabu','Kamis','Jumat','Sabtu'];

function renderCalendar(date){
  calendar.innerHTML = '';
  for(let d=0; d<7; d++){
    const dayNameDiv = document.createElement('div');
    dayNameDiv.className = 'day-name';
    dayNameDiv.innerText = dayNames[d];
    calendar.appendChild(dayNameDiv);
  }

  const year = date.getFullYear();
  const month = date.getMonth();
  const firstDay = new Date(year, month, 1);
  const lastDay = new Date(year, month+1, 0);
  monthYear.innerText = firstDay.toLocaleString('id-ID', { month:'long', year:'numeric' });

  const startDay = firstDay.getDay();
  for(let i=0;i<startDay;i++){
    const blank = document.createElement('div');
    calendar.appendChild(blank);
  }

  for(let i=1;i<=lastDay.getDate();i++){
    const dayDiv = document.createElement('div');
    dayDiv.className='day';
    const dayDate = new Date(year, month, i);
    const dateStr = dayDate.toISOString().split('T')[0];
    dayDiv.innerText=i;

    if(dayDate.getDay()===0) dayDiv.classList.add('holiday'); // Minggu
    const holiday = holidays.find(h => h.date===dateStr);
    if(holiday) dayDiv.classList.add('holiday');

    // tooltip popup
    dayDiv.onclick=()=>openPopup(dayDate);

    calendar.appendChild(dayDiv);
  }
}

function openPopup(date){
  const popup = document.getElementById('event-popup');
  const popupDate = document.getElementById('popup-date');
  const popupMsg = document.getElementById('popup-message');
  popup.style.display='flex';

  const dateStr = date.toISOString().split('T')[0];
  popupDate.innerText = date.toLocaleDateString('id-ID', { weekday:'long', day:'numeric', month:'long', year:'numeric' });

  // cek holiday
  const holiday = holidays.find(h => h.date===dateStr);
  popupMsg.value = holiday ? holiday.name : '';
  popupMsg.dataset.date = dateStr;
}

function closePopup(){ document.getElementById('event-popup').style.display='none'; }

function saveEvent(){
  const msgEl=document.getElementById('popup-message');
  const dateStr=msgEl.dataset.date;
  const title=msgEl.value.trim();
  if(!title) return alert('Tulis event dulu!');

  const index = events.findIndex(e=>e.date===dateStr);
  if(index>=0) events[index].title=title;
  else events.push({ date: dateStr, title });

  closePopup();
  renderCalendar(currentDate);
}

prevMonth.onclick=()=>{ currentDate.setMonth(currentDate.getMonth()-1); renderCalendar(currentDate);}
nextMonth.onclick=()=>{ currentDate.setMonth(currentDate.getMonth()+1); renderCalendar(currentDate);}

renderCalendar(currentDate);
</script>
</body>
</html>
