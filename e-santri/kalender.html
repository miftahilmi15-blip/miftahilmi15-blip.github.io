<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalender E-Santri</title>
<link rel="stylesheet" href="styles.css">
<style>
  body { font-family: "Poppins", sans-serif; background:#f4f7f6; color:#333; margin:0; padding:0; }
  header { background:#2e5e4e; color:#fff; padding:15px; text-align:center; }
  h1 { margin:0; font-size:24px; }
  main { max-width:800px; margin:20px auto; padding:0 15px; }
  
  /* Kalender */
  .calendar { display:grid; grid-template-columns:repeat(7,1fr); gap:5px; }
  .day { background:#fff; padding:10px; border-radius:6px; text-align:center; box-shadow:0 1px 4px rgba(0,0,0,0.1); cursor:pointer; transition:0.2s; }
  .day:hover { background:#e0f2f1; }
  .day.today { background:#1f6f51; color:#fff; font-weight:600; }
  .day.event { border:2px solid #1f6f51; }

  .month-selector { display:flex; justify-content:space-between; margin-bottom:10px; }
  .month-selector button { padding:8px 12px; border:none; border-radius:6px; background:#1f6f51; color:#fff; cursor:pointer; }
  .month-selector span { font-weight:600; font-size:16px; }
</style>
</head>
<body>

<header>
  <h1>Kalender E-Santri</h1>
</header>

<main>
  <div class="month-selector">
    <button id="prevMonth">&lt; Bulan Sebelumnya</button>
    <span id="monthYear"></span>
    <button id="nextMonth">Bulan Berikut &gt;</button>
  </div>

  <div class="calendar" id="calendar"></div>
</main>

<script>
const monthYear = document.getElementById('monthYear');
const calendar = document.getElementById('calendar');
const prevMonth = document.getElementById('prevMonth');
const nextMonth = document.getElementById('nextMonth');

let currentDate = new Date();

// Contoh data event (bisa diambil dari Firestore nanti)
const events = [
  { date: '2026-01-15', title: 'Ujian Tahfidz' },
  { date: '2026-01-20', title: 'Libur Nasional' },
  { date: '2026-02-05', title: 'Pengajian Rutin' },
];

function renderCalendar(date){
  calendar.innerHTML = '';

  const year = date.getFullYear();
  const month = date.getMonth();

  const firstDay = new Date(year, month, 1);
  const lastDay = new Date(year, month+1, 0);

  monthYear.innerText = firstDay.toLocaleString('id-ID', { month:'long', year:'numeric' });

  // blank days sebelum tanggal 1
  const startDay = firstDay.getDay();
  for(let i=0;i<startDay;i++){
    const blank = document.createElement('div');
    calendar.appendChild(blank);
  }

  // hari-hari
  for(let i=1;i<=lastDay.getDate();i++){
    const day = document.createElement('div');
    day.className = 'day';
    const dayDate = new Date(year, month, i);
    day.innerText = i;

    const today = new Date();
    if(dayDate.toDateString() === today.toDateString()){
      day.classList.add('today');
    }

    // cek event
    const event = events.find(e => e.date === dayDate.toISOString().split('T')[0]);
    if(event){
      day.classList.add('event');
      day.title = event.title;
    }

    calendar.appendChild(day);
  }
}

prevMonth.onclick = ()=> { currentDate.setMonth(currentDate.getMonth()-1); renderCalendar(currentDate); }
nextMonth.onclick = ()=> { currentDate.setMonth(currentDate.getMonth()+1); renderCalendar(currentDate); }

renderCalendar(currentDate);
</script>

</body>
</html>

