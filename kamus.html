<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>VOCABIN PRO</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Noto+Naskh+Arabic:wght@400;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root { --primary: #1f6f51; --accent: #d4b96a; --bg: #f3fbf7; --white: #ffffff; --green: #58cc02; }
  body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; padding: 0; }

  /* HEADER MODERN */
  header { 
    background: var(--white); padding: 30px 20px; text-align: center; 
    border-radius: 0 0 35px 35px; box-shadow: 0 10px 30px rgba(0,0,0,0.05);
  }
  .title-4d {
    font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;
    color: var(--primary); text-transform: uppercase; letter-spacing: -1px;
  }
  .status-bar { display: flex; justify-content: center; gap: 20px; margin-top: 15px; }
  .stat-badge { background: #f0fdf4; padding: 6px 15px; border-radius: 20px; font-weight: 800; font-size: 14px; display: flex; align-items: center; gap: 5px; border: 1px solid #dcfce7; }

  /* SEARCH BOX */
  .container { max-width: 450px; margin: -25px auto 30px; padding: 0 20px; }
  .search-wrapper { 
    background: var(--white); display: flex; padding: 8px 18px; 
    border-radius: 100px; box-shadow: 0 15px 35px rgba(31,111,81,0.15); align-items: center; 
  }
  .search-wrapper input { flex: 1; border: none; outline: none; padding: 12px; font-size: 16px; background: transparent; }
  .search-wrapper button { background: var(--primary); color: white; border: none; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; font-size: 18px; }

  /* RESULT CARD */
  .result-card { 
    background: var(--white); border-radius: 30px; padding: 25px; margin-top: 25px; 
    display: none; border-top: 8px solid var(--accent); animation: slideUp 0.3s ease-out;
  }
  @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

  .word-row { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #f1f1f1; }
  .word-row:last-of-type { border: none; }
  .lang-tag { font-size: 10px; font-weight: 800; color: #aaa; letter-spacing: 1px; }
  .txt-val { font-size: 18px; font-weight: 700; color: #333; }
  .txt-ar { font-family: 'Noto Naskh Arabic', serif; font-size: 24px; color: var(--primary); }

  /* MENU BUTTONS */
  .btn-play { 
    width: 100%; padding: 20px; margin-top: 20px; border-radius: 20px; border: none; 
    background: var(--green); color: white; font-weight: 900; font-size: 16px;
    cursor: pointer; box-shadow: 0 6px 0 #46a302; text-decoration: none; display: block; text-align: center; box-sizing: border-box;
  }
  .btn-play:active { transform: translateY(4px); box-shadow: none; }
</style>
</head>
<body>

<header>
  <h1 class="title-4d">VOCABIN</h1>
  <div class="status-bar">
    <div class="stat-badge">üî• <span id="streak">0</span></div>
    <div class="stat-badge">‚ö° <span id="battery">100%</span></div>
  </div>
</header>

<div class="container">
  <div class="search-wrapper">
    <input type="text" id="searchInput" placeholder="Cari kata apa saja...">
    <button onclick="cariKamus()">üîç</button>
  </div>

  <div id="resultCard" class="result-card">
    <div class="word-row">
      <div><span class="lang-tag">INDONESIA</span><br><span id="resIndo" class="txt-val"></span></div>
      <button onclick="bicara('resIndo', 'id')" style="border:none; background:none; font-size:22px;">üîä</button>
    </div>
    <div class="word-row">
      <div><span class="lang-tag">ARAB</span><br><span id="resArab" class="txt-val txt-ar"></span></div>
      <button onclick="bicara('resArab', 'ar')" style="border:none; background:none; font-size:22px;">üîä</button>
    </div>
    <div class="word-row">
      <div><span class="lang-tag">INGGRIS</span><br><span id="resEng" class="txt-val"></span></div>
      <button onclick="bicara('resEng', 'en')" style="border:none; background:none; font-size:22px;">üîä</button>
    </div>
    
    <a href="game.html" class="btn-play">MASUK MODE GAME üéÆ</a>
  </div>
</div>

<script>
  // Ambil data lokal
  let data = JSON.parse(localStorage.getItem('vocabin_pro')) || { streak: 0, battery: 100 };
  document.getElementById('streak').innerText = data.streak;
  document.getElementById('battery').innerText = data.battery + "%";

  async function cariKamus() {
    const q = document.getElementById('searchInput').value;
    if(!q) return;
    const card = document.getElementById('resultCard');
    card.style.display = 'block';
    
    try {
      const [rA, rE, rI] = await Promise.all([
        fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=ar&dt=t&q=${q}`),
        fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=en&dt=t&q=${q}`),
        fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=id&dt=t&q=${q}`)
      ]);
      document.getElementById('resIndo').innerText = (await rI.json())[0][0][0];
      document.getElementById('resArab').innerText = (await rA.json())[0][0][0];
      document.getElementById('resEng').innerText = (await rE.json())[0][0][0];
    } catch(e) { alert("Cek koneksi internet, Bos!"); }
  }

  function bicara(id, lang) {
    const teks = document.getElementById(id).innerText;
    window.speechSynthesis.cancel();
    const m = new SpeechSynthesisUtterance(teks);
    m.lang = lang === 'ar' ? 'ar-SA' : lang === 'id' ? 'id-ID' : 'en-US';
    window.speechSynthesis.speak(m);
  }
</script>
</body>
</html>
